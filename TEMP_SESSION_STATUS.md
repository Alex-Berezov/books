# –í–†–ï–ú–ï–ù–ù–´–ô –°–¢–ê–¢–£–° –°–ï–°–°–ò–ò - –£–î–ê–õ–ò–¢–¨ –ü–û–°–õ–ï –ó–ê–í–ï–†–®–ï–ù–ò–Ø

**–î–∞—Ç–∞**: 5 –æ–∫—Ç—è–±—Ä—è 2025  
**–í—Ä–µ–º—è**: –°–µ—Å—Å–∏—è –ø—Ä–µ—Ä–≤–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ Iteration 7 - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ bibliaris.com

## –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û –í –≠–¢–û–ô –°–ï–°–°–ò–ò

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:

1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω Swagger –ø—É—Ç—å** –≤ `src/main.ts`:
   - –ò–∑–º–µ–Ω–∏–ª–∏ –ø—É—Ç—å —Å `'api/docs'` –Ω–∞ `'docs'` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º
   - –î–æ–±–∞–≤–∏–ª–∏ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
   - –ö–æ–¥ –∑–∞–∫–æ–º–º–∏—á–µ–Ω –∏ –∑–∞–ø—É—à–µ–Ω –≤ git (commit b07ff93)

2. **–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞** –≤ `docs/TASKS.md`:
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ—à–∏–±–∫–∏ —Å Redis/BullMQ –≤ e2e —Ç–µ—Å—Ç–∞—Ö
   - –û—à–∏–±–∫–∞: `BullMQ: Your redis options maxRetriesPerRequest must be null`
   - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω GitHub Actions CI/CD pipeline

### üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

**–û–°–ù–û–í–ù–ê–Ø –ó–ê–î–ê–ß–ê**: –î–µ–ø–ª–æ–π Swagger —Ñ–∏–∫—Å–∞ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä (bibliaris.com)

**–°—Ç–∞—Ç—É—Å**: –ù–µ –∑–∞–≤–µ—Ä—à–µ–Ω - –Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## –ù–ê –ß–ï–ú –û–°–¢–ê–ù–û–í–ò–õ–ò–°–¨

### –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–∏—Å–∫–æ–º –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

- –°–µ—Ä–≤–µ—Ä: `deploy@209.74.88.183`
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã: `src-app-1` (books-app:prod), `src-postgres-1` (postgres:14)
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (Up, healthy status)
- **–ù–ï –ù–ê–ô–î–ï–ù–û**: —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ source –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- **–ü–†–û–ë–õ–ï–ú–ê**: –∫–æ–¥ –≤—Å—Ç—Ä–æ–µ–Ω –≤ Docker –æ–±—Ä–∞–∑, –Ω–µ—Ç –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ volume

### –ü–æ–ø—ã—Ç–∫–∏ –ø–æ–∏—Å–∫–∞:

- `/opt/books-app` - –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `/home/deploy/` - —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞
- `find /home -name 'books*'` - –ø–æ—Å–ª–µ–¥–Ω—è—è –∫–æ–º–∞–Ω–¥–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω

## –ß–¢–û –î–ï–õ–ê–¢–¨ –î–ê–õ–¨–®–ï (–ü–†–û–î–û–õ–ñ–ï–ù–ò–ï)

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. **–ù–∞–π—Ç–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**:

   ```bash
   ssh deploy@209.74.88.183 "find / -name 'docker-compose*.yml' 2>/dev/null | grep -v proc"
   ssh deploy@209.74.88.183 "docker ps --format='table {{.Names}}\t{{.Command}}' | grep compose"
   ssh deploy@209.74.88.183 "pwd; ls -la; history | grep docker"
   ```

2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–ø–ª–æ—è**:
   - –ï—Å–ª–∏ –∫–æ–¥ –≤ –æ–±—Ä–∞–∑–µ: –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Docker image –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –ï—Å–ª–∏ –µ—Å—Ç—å source: `git pull` –∏ `docker-compose restart`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –ø—Ä–æ–µ–∫—Ç

### –¶–µ–ª—å —Å–µ—Å—Å–∏–∏:

**–°–¥–µ–ª–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–º Swagger API –ø–æ –∞–¥—Ä–µ—Å—É**: https://bibliaris.com/api/docs

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏:

- **Iteration 7**: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–æ–º–µ–Ω–∞ bibliaris.com
- **–°—Ç–∞—Ç—É—Å**: 95% –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ Swagger
- DNS ‚úÖ, Caddy ‚úÖ, SSL ‚úÖ, –æ—Å–Ω–æ–≤–Ω–æ–µ API ‚úÖ
- **–ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥**: –¥–µ–ø–ª–æ–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ main.ts

## –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –°–ò–°–¢–ï–ú–´

### Production (bibliaris.com):

- ‚úÖ DNS: bibliaris.com ‚Üí 209.74.88.183
- ‚úÖ HTTPS: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt (–¥–æ 03.01.2026)
- ‚úÖ API: https://bibliaris.com/api/health/liveness (200 OK)
- ‚ùå Swagger: https://bibliaris.com/api/docs (404 Error)
- ‚úÖ Caddy reverse proxy —Ä–∞–±–æ—Ç–∞–µ—Ç

### Local/Git:

- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ main.ts –∑–∞–ø—É—à–µ–Ω—ã –≤ main branch
- ‚ùå GitHub Actions –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏–∑-–∑–∞ Redis/BullMQ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –ø–æ–¥—Ç—è–Ω—É—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥

### Docker –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

- books-app:prod –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ healthy
- PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å/–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º

## –ö–û–ú–ê–ù–î–´ –î–õ–Ø –û–¢–õ–ê–î–ö–ò (–¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π —Å–µ—Å—Å–∏–∏)

```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ–µ–∫—Ç
ssh deploy@209.74.88.183 "find / -name '*.yml' 2>/dev/null | grep -E '(docker|compose)' | head -10"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞–ª–∏—Å—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
ssh deploy@209.74.88.183 "docker inspect src-app-1 | jq '.[]|{WorkingDir,Cmd,Image}'"

# –ù–∞–π—Ç–∏ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
ssh deploy@209.74.88.183 "history | grep docker | tail -10"
ssh deploy@209.74.88.183 "ls -la /root/ /opt/ /var/ | grep books"

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
ssh deploy@209.74.88.183 "cd [PROJECT_DIR] && git pull && docker-compose -f docker-compose.prod.yml build --no-cache && docker-compose -f docker-compose.prod.yml up -d"
```

## –§–ê–ô–õ–´ –° –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò

- ‚úÖ `src/main.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω Swagger –ø—É—Ç—å
- ‚úÖ `docs/TASKS.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å Redis/BullMQ
- ‚úÖ `CHANGELOG.md` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- ‚è≥ `TEMP_SESSION_STATUS.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª (—É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)

---

**–í–ê–ñ–ù–û**: –£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è Swagger –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Iteration 7.
