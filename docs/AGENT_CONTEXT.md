# –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ò–ò-–∞–≥–µ–Ω—Ç–∞ (AGENT_CONTEXT)

–¶–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚Äî –¥–∞—Ç—å –∫—Ä–∞—Ç–∫–∏–µ –∏ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–µ–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: —Å—Ç–∏–ª—å, —Ñ–æ—Ä–º–∞—Ç PR, –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π, –ø–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –∏ —Ç–µ—Å—Ç–∞–º–∏. –î–µ—Ä–∂–∏–º –¥–æ–∫—É–º–µ–Ω—Ç –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º.

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û #0: –¢–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ push

**–í–°–ï–ì–î–ê –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –ü–ï–†–ï–î –ª—é–±—ã–º commit –∏ push –Ω–∞ —Å–µ—Ä–≤–µ—Ä!**

```bash
yarn test          # Unit —Ç–µ—Å—Ç—ã
yarn test:e2e      # E2E —Ç–µ—Å—Ç—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
yarn lint          # ESLint
yarn typecheck     # TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞

# –ò–ª–∏ –≤—Å–µ –≤–º–µ—Å—Ç–µ:
yarn ci            # –ü–æ–ª–Ω–∞—è CI –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:**

- Push –≤ `main` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ production (bibliaris.com)
- –ü–∞–¥–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã –ª–æ–º–∞—é—Ç production
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å 3 –Ω–æ—è–±—Ä—è 2025 –∏ –ù–ò–ö–û–ì–î–ê –Ω–µ –¥–æ–ª–∂–Ω–æ –Ω–∞—Ä—É—à–∞—Ç—å—Å—è

**–ö–æ–º–º–∏—Ç—å—Ç–µ –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤!**

---

## –ó–æ–ª–æ—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞

- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ Yarn (classic) 1.x. npm –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º.
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –¥–∏—Ñ—Ñ—ã: –Ω–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ –º–µ–Ω—è–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ API –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –ö–∞–∂–¥—É—é –∑–∞–¥–∞—á—É –∑–∞–≤–µ—Ä—à–∞–π—Ç–µ ¬´–∑–µ–ª—ë–Ω–æ–π¬ª: –ª–∏–Ω—Ç, —Ç–∏–ø—ã, —Å–±–æ—Ä–∫–∞/–∑–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ.
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è: README, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ docs/\*, CHANGELOG, –∏ –æ—Ç–º–µ—Ç–∫–∏ –≤ `docs/ITERATION_TASKS.md`.

## –ö–æ–Ω—Ç—Ä–∞–∫—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏ (—á—Ç–æ —Å—á–∏—Ç–∞—Ç—å ¬´—Å–¥–µ–ª–∞–Ω–æ¬ª)

–ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –∏—Ç–µ—Ä–∞—Ü–∏–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

1. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º –æ–±—ä—ë–º–µ.
2. –î–æ–±–∞–≤–ª–µ–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã: –º–∏–Ω–∏–º—É–º happy-path + 1 edge-case (–¥–ª—è e2e –∏–ª–∏ unit ‚Äî –ø–æ —Å–∏—Ç—É–∞—Ü–∏–∏).
3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (README, –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ docs/\*, CHANGELOG).
4. –í `docs/ITERATION_TASKS.md` –ø—É–Ω–∫—Ç –ø–æ–º–µ—á–µ–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º —Å –¥–∞—Ç–æ–π –∏ –∫—Ä–∞—Ç–∫–∏–º–∏ –¥–µ—Ç–∞–ª—è–º–∏.
5. –ù–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞/—Ç–∏–ø–æ–≤: `yarn lint`, `yarn typecheck`.
6. –ë—ã—Å—Ç—Ä—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π smoke: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç (`yarn start:dev`) –∏–ª–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ç–µ—Å—Ç.

## –°—Ç–∏–ª—å –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –∫–æ–¥–∞

- NestJS + TypeScript. –°–ª–µ–¥—É–µ–º –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ (modules/feature ‚Üí controller/service/dto).
- –í–∞–ª–∏–¥–∏—Ä—É–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ class-validator, DTO –¥–µ—Ä–∂–∏–º —Å—Ç—Ä–æ–≥–∏–º–∏.
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –±—Ä–æ—Å–∞–µ–º —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Nest HTTP-–∏—Å–∫–ª—é—á–µ–Ω–∏—è.
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ slug –∏ –¥—Ä—É–≥–∏–µ –æ–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–∑ `src/shared/*` (–Ω–µ –¥—É–±–ª–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É).
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ; –∏–∑–±–µ–≥–∞–µ–º —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## –¢–µ—Å—Ç—ã

- –ó–∞–ø—É—Å–∫:
  - Unit: `yarn test`
  - E2E: `yarn test:e2e` (–≤ dev —Ä–µ–∂–∏–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π, —Å–º. jest-e2e –∫–æ–Ω—Ñ–∏–≥)
  - –û–¥–∏–Ω e2e-—Ñ–∞–π–ª: `yarn test:e2e -- <file>.e2e-spec.ts`
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –∏ —É—Å—Ç–æ–π—á–∏–≤—ã–µ —Ç–µ—Å—Ç—ã. –î–ª—è –Ω–æ–≤—ã—Ö —Ä—É—á–µ–∫ ‚Äî —Ö–æ—Ç—è –±—ã 1-2 —Å—Ü–µ–Ω–∞—Ä–∏—è.
- –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –±—ã—Å—Ç—Ä—ã–º unit —Ç–∞–º, –≥–¥–µ –º–æ–∂–Ω–æ –∑–∞–º–æ–∫–∞—Ç—å Prisma/–∫—ç—à.
- E2E –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è —Å–∫–≤–æ–∑–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –ø–æ–ª–∏—Ç–∏–∫ (—è–∑—ã–∫, —Å—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, SEO –∏ —Ç.–ø.).

## –ú–∏–≥—Ä–∞—Ü–∏–∏ Prisma –∏ –∫–ª–∏–µ–Ω—Ç

- Dev: —Å–æ–∑–¥–∞—ë–º –º–∏–≥—Ä–∞—Ü–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∫–æ–º–º–∏—Ç–∏–º –≤ `prisma/migrations/*`.
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞: `yarn prisma:generate` (output –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –≤ schema.prisma ‚Äî –Ω–µ –º–µ–Ω—è—Ç—å).
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π: `yarn prisma:migrate` –¥–ª—è dev-—Å—Ä–µ–¥—ã.
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã/–¥—Ä–µ–π—Ñ: –µ—Å–ª–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∏–Ω–¥–µ–∫—Å—ã, –ø—Ä–∞–≤–∏–º SQL –Ω–∞ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (`CREATE UNIQUE INDEX IF NOT EXISTS ...`) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–µ–ª–∞–µ–º dev reset.
- –í –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞—ë–º. –î–ª—è CI/production ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º ¬´deploy¬ª-–ø–æ–¥—Ö–æ–¥ (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∑–∞–¥–∞—á–∞—Ö Docker/CI).

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- –ú–∏–Ω–∏–º—É–º: `DATABASE_URL`.
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ: PORT, HOST, DEFAULT_LANGUAGE, LOCAL_UPLOADS_DIR, LOCAL_PUBLIC_BASE_URL, –ª–∏–º–∏—Ç—ã upload –∏ –∫—ç—à (—Å–º. README).
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–π ‚Äî –æ–±–Ω–æ–≤–∏—Ç–µ README –∏ `.env.example` (–ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ 6 –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –ø—Ä–∏–º–µ—Ä–∞).

## VS Code –∑–∞–¥–∞—á–∏

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ `.vscode/tasks.json` –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π: dev, lint, typecheck, prisma, e2e.
- –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (`dev`, `prisma:studio`) –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª; –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Kill Task.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è API –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä—É—á–µ–∫ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–π—Ç–µ:
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º Swagger (–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã, DTO),
  - –ö—Ä–∞—Ç–∫–æ–π –∑–∞–ø–∏—Å—å—é –≤ `docs/ENDPOINTS.md` –∏–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ,
  - –ü—É–Ω–∫—Ç–æ–º –≤ CHANGELOG.

## –®–∞–±–ª–æ–Ω PR (—Å—É–º–º–∞—Ä–Ω–æ)

–ó–∞–≥–æ–ª–æ–≤–æ–∫: –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É.  
–û–ø–∏—Å–∞–Ω–∏–µ:

- –ß—Ç–æ –∏ –ø–æ—á–µ–º—É –∏–∑–º–µ–Ω–∏–ª–æ—Å—å (motivation + –∫—Ä–∞—Ç–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏).
- –°—Å—ã–ª–∫–∏ –Ω–∞ –∑–∞–¥–∞—á–∏ –∏–∑ `docs/ITERATION_TASKS.md` (–Ω–∞–ø—Ä–∏–º–µ—Ä: ¬´12. 4 ‚Äî AGENT_CONTEXT¬ª).
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã/–ø—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (–æ–ø—Ü.).

–ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ PR:

- [ ] –õ–∏–Ω—Ç/—Ñ–æ—Ä–º–∞—Ç/—Ç–∏–ø—ã –∑–µ–ª—ë–Ω—ã–µ: `yarn lint` / `yarn typecheck`
- [ ] –¢–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ: `yarn test` –∏/–∏–ª–∏ `yarn test:e2e`
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –º–µ–Ω—è–ª–∞—Å—å —Å—Ö–µ–º–∞): —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ dev; –∫–ª–∏–µ–Ω—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (README + –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ docs/\* + CHANGELOG)
- [ ] –í `docs/ITERATION_TASKS.md` –æ—Ç–º–µ—á–µ–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å/–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

## –ì—Ä–∞–Ω–∏—Ü—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ù–µ –∫–æ–º–º–∏—Ç–∏–º —Å–µ–∫—Ä–µ—Ç—ã.
- –ù–µ –º–µ–Ω—è–µ–º –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Helmet/CORS/–ª–∏–º–∏—Ç—ã —Ç–µ–ª–∞) –≤–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–¥–∞—á–∏.
- –ù–µ —Ä–∞—Å—à–∏—Ä—è–µ–º –æ–±–ª–∞—Å—Ç—å –∑–∞–¥–∞—á–∏ –±–µ–∑ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –≤ `docs/ITERATION_TASKS.md`.

## –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# —Ç–∏–ø–æ–≤–æ–π dev-–ø–æ—Ç–æ–∫
yarn
yarn prisma:migrate
yarn prisma:generate
yarn start:dev

# –ø—Ä–æ–≤–µ—Ä–∫–∏
yarn lint
yarn typecheck
yarn test
yarn test:e2e -- <file>.e2e-spec.ts
```

## –≠–≤–æ–ª—é—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞

–ï—Å–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –º–µ–Ω—è—é—Ç—Å—è, –¥–æ–ø–æ–ª–Ω—è–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ —Å—Å—ã–ª–æ—á–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã README/ITERATION_TASKS/CHANGELOG. –ö—Ä–∞—Ç–∫–æ—Å—Ç—å –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.
